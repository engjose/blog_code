---
title: Thinking in Java(一)一切皆对象
thumbnail: 'http://oayt7zau6.bkt.clouddn.com/thinking_in_java_basic.jpg'
date: 2017-05-23 23:30:14
updated: 2017-05-23 23:30:14
layout:
comments:
categories: THINKING IN JAVA
tags: 读书笔记
permalink:
---
#### java的设计
尽管java是基于C++开发的,但是java是一个纯粹的面向对象的程序设计语言;C++之所以成为一种杂合行的设计语言,是因为C++支持C语言的向后兼容,但是这种兼容却让C++变得臃肿,java是基于C++而简化了C++中比较臃肿的东西
#### 引用操作对象
每种计算机语言都有自己操作内存元素的方式.java是面向对象的,因此java采用一个固定的方式来操作内存中的元素:
1. java中通过引用来操作对象
2. 这就好比遥控器与电视的关系,我们操作的是遥控器,再由遥控器来操作电视
3. 此外,即使没有电视机遥控器也可以独立的存在,也就是说你可以有一个引用,但是不必有对象与其关联

```java
//创建一个引用,没有对象指定
String s;
```

#### java中的内存模型
1. <font color='blue'>寄存器:</font>寄存器是最快的存储区域,因为它位于处理器的内部.我们采用java是无法直接操作寄存器的
2. <font color='blue'>堆栈:</font>堆栈是位于RAM(随机访问存储器),堆栈的指针向下移动则分配新的内存,堆栈指针向上移动则释放内存,堆栈的速度仅次于寄存器;我们平时使用的对象的引用就存在于堆栈中
3. <font color='blue'>堆:</font>堆内存也位于RAM中,用于存储所有的java对象.当我们需要在堆栈中创建对象的时候只通过new关键字即可,当然这种方便也会带来一些额外的开销:用堆进行内存分配和清理比堆栈慢
4. <font color='blue'>常量寄存器:</font>我们的常量一般是存储于代码中的,这样比较安全,我们也可以选择存储在ROM(只读存储器)中
5. <font color='blue'>非RAM存储器:</font>如果数据完全存储于代码之外,比如流对象和持久化对象最终会被存储在磁盘或者其他的地方,这样反序列化的时候就会再次找到

#### 基本数据类型的存储
java中并不是所有的变量都是通过new来进行创建的,我们对于比较小的常用的数据类型不使用new关键字创建,而是创建一个并非引用的'自动'变量,将这个变量的值直接存储于<font color='red'>堆栈中</font>,这样提高了数据存储额效率

#### 基本数据类型
java中基本数据类型的大小都是固定的,这也是java夸平台原因之一

基本类型 | 大小
---|---
boolean | -
byte | 1
short| 2
int  | 4
long | 8
float| 4
double|8
所有的数值类型都具有正负号,不要去寻求无符号的数值类型,boolean占的大小没有指定,但是只能存储true/false

#### 高精度数字
java提供了两种高精度的计算:BigInteger和BigDecimal,能用基本数据类型操作的都可以用包装类型进行操作,但是需要调用方法.这么做复杂了许多,当然运算速度也慢了许多,这里是利用速度换取了精度
1. BigInteger支持任意精度的整数运算
2. BigDecimal支持任意精度的浮点型运算

#### 类的描述
我们知道java是面相对象的,并且知道用new关键字来创建对象.但是如何在开发中创建我们自定义类和对象的呢?
其实类由两部分组成:成员方法和成员变量,成员变量描述类所具备的属性,成员方法说明了该类具有哪些功能

#### 成员变量定义
我们在类中定义了成员变量默认都会初始化的,但是局部变量不会默认进行初始化,所以我们在使用局部变量之前一定先给其初始化才行,负责编译器就会报错.以下是我们成员变量的默认初始化:

数据类型 | 默认值
---|---
boolean | false
char | \u0000
byte | (byte)0
short| (short)0
int  | 0
long | 0L
float| 0.0F
double| 0.0

#### static关键字
出现需求:
1. 为某个特定的区域分配单一存储空间,而不需要考虑需要多少个对象
2. 希望被static修饰的不与任何的对象所关联,只与当前的类相关

下面这段代码无论有多少个StaticTest对象StaticTest.i只会有一份存储空间,N个对象共享一个i.
```java
calss StaticTest {
  static int i = 47;
}
```
<font color='red'>建议:</font>在静态使用中,建议使用类直接调用,而不建议使用创建对象的方式,因为这样表现层次更加的明确,说明静态是属于类的,而并非对象的.


